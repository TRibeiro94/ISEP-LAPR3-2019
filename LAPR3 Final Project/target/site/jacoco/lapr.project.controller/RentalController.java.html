<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pt"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RentalController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ride-sharing</a> &gt; <a href="index.source.html" class="el_package">lapr.project.controller</a> &gt; <span class="el_source">RentalController.java</span></div><h1>RentalController.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package lapr.project.controller;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;
import javafx.util.Pair;
import lapr.project.data.RentalDataHandler;
import lapr.project.model.Park;
import lapr.project.model.PointInterest;
import lapr.project.model.Rental;
import lapr.project.model.Scooter;
import lapr.project.model.User;
import lapr.project.model.Vehicle;

/**
 *
 * @author Bernardo Carvalho
 */
public class RentalController {

    private final RentalDataHandler rentalDataHandler;

<span class="fc" id="L28">    public RentalController(RentalDataHandler rentalDataHandler) {</span>
<span class="fc" id="L29">        this.rentalDataHandler = rentalDataHandler;</span>
<span class="fc" id="L30">    }</span>

    /**
     *
     * @param point1
     * @param point2
     * @param numPois
     * @return
     */
    public List&lt;Pair&lt;Double, List&lt;PointInterest&gt;&gt;&gt; shortestRoute(PointInterest point1, PointInterest point2, int numPois){

<span class="fc" id="L41">        List&lt;Pair&lt;Double, List&lt;PointInterest&gt;&gt;&gt; shortestPath = rentalDataHandler.shortestRoute(point1, point2, numPois);</span>

<span class="fc" id="L43">        return shortestPath;</span>

    }

    /**
     *
     * @param userId
     * @param vehicle
     * @param point1
     * @param point2
     * @return
     */
    public List&lt;Pair&lt;Double, List&lt;PointInterest&gt;&gt;&gt; mostEnergeticallyEfficientRoute(int userId, Vehicle vehicle, PointInterest point1, PointInterest point2){

<span class="fc" id="L57">        List&lt;Pair&lt;Double, List&lt;PointInterest&gt;&gt;&gt; mostEnergeticallyEfficientPath = rentalDataHandler.mostEnergeticallyEfficientRoute(userId, vehicle, point1, point2);</span>

<span class="fc" id="L59">        return mostEnergeticallyEfficientPath;</span>

    }

    /**
     *
     * @param point1
     * @param point2
     * @param poisList
     * @return
     * @throws java.sql.SQLException
     */
    public List&lt;Pair&lt;Double, List&lt;PointInterest&gt;&gt;&gt; shortestRoutePassingThroughPoints(PointInterest point1, PointInterest point2, ArrayList&lt;PointInterest&gt; poisList) throws SQLException {

<span class="fc" id="L73">        List&lt;Pair&lt;Double, List&lt;PointInterest&gt;&gt;&gt; shortestPath = rentalDataHandler.shortestRoutePassingThroughPoints(point1, point2, poisList);</span>

<span class="fc" id="L75">        return shortestPath;</span>
    }

    /**
     *
     * @param userId
     * @param vehicle
     * @param point1
     * @param point2
     * @param poisList
     * @param numRoutes
     * @param ascendingOrder
     * @param sortingCriteria
     * @return
     */
    public List&lt;Pair&lt;Double, List&lt;PointInterest&gt;&gt;&gt; mostEfficientRoutePassingThroughPoints(int userId, Vehicle vehicle, PointInterest point1, PointInterest point2, ArrayList&lt;PointInterest&gt; poisList, int numRoutes, boolean ascendingOrder, String sortingCriteria){

<span class="fc" id="L92">        List&lt;Pair&lt;Double, List&lt;PointInterest&gt;&gt;&gt; shortestPath = rentalDataHandler.mostEfficientRoutePassingThroughPoints(userId, vehicle, point1, point2, poisList, numRoutes, ascendingOrder, sortingCriteria);</span>

<span class="fc" id="L94">        return shortestPath;</span>
    }

    /**
     * 
     * @param park1
     * @param park2
     * @param user
     * @return 
     */
    public List&lt;Scooter&gt; getScootersWith10PercentageExtra(Park park1, Park park2, User user) {
<span class="fc" id="L105">        List&lt;Scooter&gt; listScooter = new ArrayList&lt;&gt;();</span>
        try {
<span class="fc" id="L107">            listScooter = rentalDataHandler.getScootersWith10PercentageExtra(park1, park2, user);</span>
<span class="nc" id="L108">        } catch (SQLException ex) {</span>
<span class="nc" id="L109">            ex.printStackTrace();</span>
<span class="fc" id="L110">        }</span>
<span class="fc" id="L111">        return listScooter;</span>
    }

    /**
     *
     * @param idPark
     * @return
     */
    public List&lt;Scooter&gt; getScootersWithMoreEnergy(int idPark){
<span class="fc" id="L120">        List&lt;Scooter&gt; scooter = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L122">        scooter = rentalDataHandler.getScootersWithMoreEnergy(idPark);</span>

<span class="fc" id="L124">        return scooter;</span>
    }

    public Rental makeRental(User user, Vehicle vehicle, Park parkFrom) throws SQLException {
<span class="fc" id="L128">        Rental rental = new Rental(user, vehicle, parkFrom);</span>

<span class="fc" id="L130">        rental.setIdRental(rentalDataHandler.makeRental(user.getIdUser(), vehicle.getId()));</span>

<span class="fc" id="L132">        return rental;</span>
    }
    
    public List&lt;Rental&gt; getUnfinishedTrips(){
<span class="fc" id="L136">       return rentalDataHandler.getUnfinishedTrips();</span>
    }
    
    public Rental getRentalById(int idRental){
<span class="fc" id="L140">        Rental rental = null;</span>
        
<span class="fc" id="L142">        rental = rentalDataHandler.getRentalById(idRental);</span>
<span class="fc" id="L143">        return rental;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>